<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kfile.mapper.FileItemMapper">
    <select id="findFileItemByDirectory">
        select *
        from file_item
        where directory = #{directory}
    </select>
    <select id="findFileEntryByFileItemId">
        select id
                   url
            name
            ext
            type
            content_type
            directory
            created_date
            last_modified_date
            created_by
            last_modified_by
            share
            description
        from file_item,
             file_detail
        where directory = #{fileItemId}
          and file_item.url = file_detail.url
    </select>
</mapper>
